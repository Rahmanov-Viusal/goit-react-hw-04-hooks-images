{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Section/Section.module.css","components/ErrorMessage/ErrorMessage.module.css","components/Request/Request.module.css","components/Button/Button.module.css","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Searchbar/Searchbar.js","services/services.js","components/Section/Section.js","components/ErrorMessage/ErrorMesssage.js","components/Request/Request.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Preloader","type","color","height","width","ImageGalleryItem","openModal","webformatURL","largeImageURL","tags","className","s","Item","onClick","e","target","dataset","large","src","alt","Image","ImageGallery","images","map","id","Container","children","container","SearchBar","onSubmit","useState","query","setQuery","Searchbar","preventDefault","toast","error","Form","Button","Label","Input","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","toLowerCase","trim","API_KEY","fetchImage","a","page","fetch","then","response","json","hits","total","pixabayAPI","Section","Gallery","ErrorMessage","message","text","Request","modalRoot","document","querySelector","Modal","onClose","useEffect","onKeyDown","code","window","addEventListener","removeEventListener","createPortal","Overlay","App","setImages","setPage","setError","setTotal","status","setStatus","showModal","setShowModal","largeURL","setLargeURL","prevImg","scrollPage","firstFetchImages","toggleModal","url","scrollTo","top","documentElement","scrollHeight","behavior","prevPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,KAAO,+BAA+B,MAAQ,kC,mBCAhED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,KAAO,6B,mBCAzBD,EAAOC,QAAU,CAAC,KAAO,wB,mBCAzBD,EAAOC,QAAU,CAAC,OAAS,yB,yNCEZ,SAASC,IACtB,OACE,8BACE,cAAC,IAAD,CAAQC,KAAK,UAAUC,MAAM,UAAUC,OAAQ,GAAIC,MAAO,O,qBCFjD,SAASC,EAAT,GAKX,IAJFC,EAIC,EAJDA,UACAC,EAGC,EAHDA,aACAC,EAEC,EAFDA,cAEC,IADDC,YACC,MADM,QACN,EAID,OACE,oBAAIC,UAAWC,IAAEC,KAAjB,SACE,qBACEC,QANmB,SAAAC,GACvBR,EAAUQ,EAAEC,OAAOC,QAAQC,QAMvBC,IAAKX,EACLY,IAAKV,EACLC,UAAWC,IAAES,MACb,aAAYZ,M,qBCOLa,EAvBM,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQhB,EAAgB,EAAhBA,UAC9B,OACE,oBAAII,UAAWC,IAAEU,aAAjB,SACGC,EAAOC,KAAI,YAAgD,IAA7CC,EAA4C,EAA5CA,GAAIjB,EAAwC,EAAxCA,aAAcC,EAA0B,EAA1BA,cAAeC,EAAW,EAAXA,KAC9C,OACE,cAACJ,EAAD,CAEEE,aAAcA,EACdD,UAAWA,EACXE,cAAeA,EACfC,KAAMA,GAJDe,S,iCCJFC,EAJG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB,OAAO,qBAAKhB,UAAWC,IAAEgB,UAAlB,SAA8BD,KCExB,SAASE,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAeA,OACE,wBAAQtB,UAAWC,IAAEsB,UAArB,SACE,cAAC,EAAD,UACE,uBAAMJ,SAjBa,SAAAf,GACvBA,EAAEoB,iBAEGH,GAKLF,EAASE,GACTC,EAAS,KALPG,IAAMC,MAAM,gCAawB1B,UAAWC,IAAE0B,KAA/C,UACE,wBAAQpC,KAAK,SAASS,UAAWC,IAAE2B,OAAnC,SACE,sBAAM5B,UAAWC,IAAE4B,MAAnB,sBAGF,uBACE7B,UAAWC,IAAE6B,MACbvC,KAAK,OACLwC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAjBgB,SAAA9B,GACxBkB,EAASlB,EAAE+B,cAAcC,MAAMC,cAAcC,SAiBrCF,MAAOf,WCpCnB,IAAMkB,EAAU,qCAEVC,EAAU,uCAAG,WAAOnB,GAAP,iCAAAoB,EAAA,6DAAcC,EAAd,+BAAqB,EAArB,SACaC,MAAM,8BAAD,OACHtB,EADG,iBACWqB,EADX,gBACuBH,EADvB,yDAEjCK,MAAK,SAAAC,GACL,OAAOA,EAASC,UAJD,uBACTC,EADS,EACTA,KAAMC,EADG,EACHA,MADG,kBAMV,CAAED,OAAMC,UANE,2CAAH,sDAaDC,EAJI,CACjBT,c,iBCLaU,EAJC,SAAC,GAAkB,IAAhBlC,EAAe,EAAfA,SACjB,OAAO,yBAAShB,UAAWC,IAAEkD,QAAtB,SAAgCnC,K,iBCO1BoC,EARM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAO,mBAAGrD,UAAWC,IAAEqD,KAAhB,SAAuBD,K,iBCMjBE,EARC,WACd,OACE,mCACE,mBAAGvD,UAAWC,IAAEqD,KAAhB,2C,iBCQS1B,EAVA,SAAC,GAAD,IAAGzB,EAAH,EAAGA,QAAH,OACb,wBAAQZ,KAAK,SAASS,UAAWC,IAAE2B,OAAQzB,QAASA,EAApD,wB,iBCAIqD,EAAYC,SAASC,cAAc,eAE1B,SAASC,EAAT,GAAuC,IAAtBC,EAAqB,EAArBA,QAAS5C,EAAY,EAAZA,SACvC6C,qBAAU,WACR,IAAMC,EAAY,SAAA1D,GACD,WAAXA,EAAE2D,MACJH,KAMJ,OAFAI,OAAOC,iBAAiB,UAAWH,GAE5B,WACLE,OAAOE,oBAAoB,UAAWJ,MAEvC,CAACF,IAOJ,OAAOO,uBACL,qBAAKnE,UAAWC,IAAEmE,QAASjE,QANL,SAAAC,GAClBA,EAAEC,SAAWD,EAAE+B,eACjByB,KAIF,SACE,qBAAK5D,UAAWC,IAAE0D,MAAlB,SAA0B3C,MAE5BwC,GCfW,SAASa,IACtB,MAA0BjD,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4BF,mBAAS,IAArC,mBAAOR,EAAP,KAAe0D,EAAf,KACA,EAAwBlD,mBAAS,GAAjC,mBAAOsB,EAAP,KAAa6B,EAAb,KACA,EAA0BnD,mBAAS,MAAnC,mBAAOM,EAAP,KAAc8C,EAAd,KACA,EAA0BpD,mBAAS,MAAnC,mBAAO4B,EAAP,KAAcyB,EAAd,KACA,EAA4BrD,mBAAS,QAArC,mBAAOsD,EAAP,KAAeC,EAAf,KACA,EAAkCvD,oBAAS,GAA3C,mBAAOwD,EAAP,KAAkBC,EAAlB,KACA,EAAgCzD,mBAAS,IAAzC,mBAAO0D,EAAP,KAAiBC,EAAjB,KAEAlB,qBAAU,WAAM,4CAEd,WAAgCxC,EAAOqB,GAAvC,SAAAD,EAAA,sEACQQ,EAAWT,WAAWnB,EAAOqB,GAAME,MAAK,YAAsB,IAAnBG,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAEnDsB,EADW,IAAT5B,EACQ,YAAIK,GAEJ,SAAAiC,GAAO,4BAAQA,GAAR,YAAoBjC,MAEvC0B,EAASzB,GACT2B,EAAU,YACL3B,EAIHwB,EAAS,OAHTA,EAAS,sDACTG,EAAU,aAIZM,OAfJ,2CAFc,wBACT5D,IAmBLsD,EAAU,WApBI,sCAqBdO,CAAiB7D,EAAOqB,MACvB,CAACrB,EAAOqB,IAEX,IASMyC,EAAc,SAAAC,GAClBP,GAAcD,GACdG,EAAYK,IAGRH,EAAa,WACjBjB,OAAOqB,SAAS,CACdC,IAAK7B,SAAS8B,gBAAgBC,aAC9BC,SAAU,YAGd,OACE,qCACE,cAAC,EAAD,CAAWtE,SAtBU,SAAAE,GACvBC,EAASD,GACTkD,EAAQ,MAmBR,IAEE,cAAC,EAAD,UACE,eAAC,EAAD,WACc,SAAXG,GAAqB,cAAC,EAAD,IACV,aAAXA,GAAyB,cAAC,EAAD,CAAcrB,QAAS3B,IACjD,cAAC,EAAD,CAAcd,OAAQA,EAAQhB,UAAWuF,IAC7B,YAAXT,GAAwB,cAAC,EAAD,IACxB1B,EAAe,GAAPN,EAAY,GAAgB,aAAXgC,GACxB,cAAC,EAAD,CAAQvE,QAzBC,WACjBoE,GAAQ,SAAAmB,GAAQ,OAAIA,EAAW,aA4B5Bd,GACC,cAACjB,EAAD,CAAOC,QAASuB,EAAhB,SACE,qBAAK3E,IAAKsE,EAAUrE,IAAI,OAG5B,cAAC,IAAD,CAAgBkF,UAAW,SCnFjCC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrC,SAASsC,eAAe,U,kBCR1B3G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,OAAS,0BAA0B,MAAQ,yBAAyB,MAAQ,4B","file":"static/js/main.92f0fef7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__WGOL6\",\"Image\":\"ImageGalleryItem_Image__3YXvD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Gallery\":\"Section_Gallery__1vxqD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__aP9ZG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Request_text__167Pw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function Preloader() {\n  return (\n    <div>\n      <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n}\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  openModal,\n  webformatURL,\n  largeImageURL,\n  tags = 'image',\n}) {\n  const handleClickImage = e => {\n    openModal(e.target.dataset.large);\n  };\n  return (\n    <li className={s.Item}>\n      <img\n        onClick={handleClickImage}\n        src={webformatURL}\n        alt={tags}\n        className={s.Image}\n        data-large={largeImageURL}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\n// export default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => {\n        return (\n          <ImageGalleryItem\n            key={id}\n            webformatURL={webformatURL}\n            openModal={openModal}\n            largeImageURL={largeImageURL}\n            tags={tags}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import s from \"./Container.module.css\";\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n","import { useState } from 'react';\nimport s from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\nimport Container from '../Container';\n\nexport default function SearchBar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n  const handleSubmitForm = e => {\n    e.preventDefault();\n\n    if (!query) {\n      toast.error('Please, enter your request!');\n      return;\n    }\n\n    onSubmit(query);\n    setQuery('');\n  };\n  const handleChangeQuery = e => {\n    setQuery(e.currentTarget.value.toLowerCase().trim());\n  };\n  return (\n    <header className={s.Searchbar}>\n      <Container>\n        <form onSubmit={handleSubmitForm} className={s.Form}>\n          <button type=\"submit\" className={s.Button}>\n            <span className={s.Label}>Search</span>\n          </button>\n\n          <input\n            className={s.Input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChangeQuery}\n            value={query}\n          />\n        </form>\n      </Container>\n    </header>\n  );\n}\n","const API_KEY = '22960309-85052fc004ca9b43ae271af96';\n\nconst fetchImage = async (query, page = 1) => {\n  const { hits, total } = await fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    return response.json();\n  });\n  return { hits, total };\n};\n\nconst pixabayAPI = {\n  fetchImage,\n};\n\nexport default pixabayAPI;\n","import React from \"react\";\nimport s from \"./Section.module.css\";\n\nconst Section = ({ children }) => {\n  return <section className={s.Gallery}>{children}</section>;\n};\n\nexport default Section;\n","import PropTypes from \"prop-types\";\nimport s from \"./ErrorMessage.module.css\";\n\nconst ErrorMessage = ({ message }) => {\n  return <p className={s.text}>{message}</p>;\n};\n\nErrorMessage.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ErrorMessage;\n","import s from \"./Request.module.css\";\n\nconst Request = () => {\n  return (\n    <>\n      <p className={s.text}>Please, enter your request</p>\n    </>\n  );\n};\n\nexport default Request;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={s.Button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ onClose, children }) {\n  useEffect(() => {\n    const onKeyDown = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', onKeyDown);\n\n    return () => {\n      window.removeEventListener('keydown', onKeyDown);\n    };\n  }, [onClose]);\n\n  const onBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  return createPortal(\n    <div className={s.Overlay} onClick={onBackdropClick}>\n      <div className={s.Modal}>{children}</div>\n    </div>,\n    modalRoot,\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport Loader from './components/Loader';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from './components/Searchbar';\nimport pixabayAPI from './services/services';\nimport Section from './components/Section';\nimport Container from './components/Container';\nimport ErrorMessage from './components/ErrorMessage';\nimport Request from './components/Request';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nexport default function App() {\n  const [query, setQuery] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [total, setTotal] = useState(null);\n  const [status, setStatus] = useState('idle');\n  const [showModal, setShowModal] = useState(false);\n  const [largeURL, setLargeURL] = useState('');\n\n  useEffect(() => {\n    if (!query) return;\n    async function firstFetchImages(query, page) {\n      await pixabayAPI.fetchImage(query, page).then(({ hits, total }) => {\n        if (page === 1) {\n          setImages([...hits]);\n        } else {\n          setImages(prevImg => [...prevImg, ...hits]);\n        }\n        setTotal(total);\n        setStatus('resolved');\n        if (!total) {\n          setError('Something went wrong! Please, change your request!');\n          setStatus('rejected');\n        } else {\n          setError(null);\n        }\n        scrollPage();\n      });\n    }\n    setStatus('pending');\n    firstFetchImages(query, page);\n  }, [query, page]);\n\n  const handleFormSubmit = query => {\n    setQuery(query);\n    setPage(1);\n  };\n\n  const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const toggleModal = url => {\n    setShowModal(!showModal);\n    setLargeURL(url);\n  };\n\n  const scrollPage = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n  return (\n    <>\n      <Searchbar onSubmit={handleFormSubmit} />;\n      <Section>\n        <Container>\n          {status === 'idle' && <Request />}\n          {status === 'rejected' && <ErrorMessage message={error} />}\n          <ImageGallery images={images} openModal={toggleModal} />\n          {status === 'pending' && <Loader />}\n          {total - page * 12 > 0 && status === 'resolved' && (\n            <Button onClick={onLoadMore} />\n          )}\n        </Container>\n      </Section>\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeURL} alt=\"\" />\n        </Modal>\n      )}\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"Form\":\"Searchbar_Form__1p_P8\",\"Button\":\"Searchbar_Button__257ni\",\"Label\":\"Searchbar_Label__3QAIr\",\"Input\":\"Searchbar_Input__3SYi2\"};"],"sourceRoot":""}